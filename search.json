[{"path":"https://bccdc-phsa.github.io/brech/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 Mike Irvine Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://bccdc-phsa.github.io/brech/articles/brech.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"brech","text":"create model simulation construct R S3 object using stochastic_model class. expects list reactions including transitions: impact population rate: rate event takes place. e.g. first reaction represents infection event occurs rate βSI\\beta S SS population susceptible, II population infected β\\beta population infectivity. run default settings, just use run_sim function","code":"reactions <- list(   infection = list(     transition = c(S = -1, E = +1),     rate = function(x, p, t) p$beta * x[\"S\"] * x[\"I\"]   ),   incubation = list(     transition = c(E = -1, I = +1),     rate = function(x, p, t) p$theta * x[\"E\"]   ),   recovery = list(     transition = c(I = -1, R = +1),     rate = function(x, p, t) p$gamma * x[\"I\"]   ),   case_detection = list(     transition = c(C = +1),     rate = function(x, p, t) p$case_rate * x[\"I\"]   ),   vaccinate = list(     transition = c(V = +1, S = -1),     rate = function(x, p, t) 0 * x[\"S\"]   ) ) sim_scenario <- load_model_params() |>   vaccinate_initial_conditions(0.8) |>   update_parameters(beta=0.02)  sm <- stochastic_model(reactions,sim_scenario) sm #> Stochastic Model  #> ==================  #>  #> Initial Values: #>   S : 200  V : 799  E : 0 #>   I : 1  R : 0  C : 0 #>   D : 0 #> Parameters: #>   r_0 : 25  latent_period : 11  infectious_period : 8 #>   ascertainment_delay : 2.5  case_delay : 3  theta : 0.0909 #>   gamma : 0.125  case_rate : 0.333  beta : 0.02 #>   N : 1000 #> Simulation arguments: #>   T : 10 #> Reactions: #>  - infection: #>    Transition: [S -1, E +1] #>  - incubation: #>    Transition: [E -1, I +1] #>  - recovery: #>    Transition: [I -1, R +1] #>  - case_detection: #>    Transition: [C +1] #>  - vaccinate: #>    Transition: [V +1, S -1] #>"},{"path":"https://bccdc-phsa.github.io/brech/articles/brech.html","id":"model-fitting","dir":"Articles","previous_headings":"","what":"Model fitting","title":"brech","text":"Approximate Bayesian Computation (ABC) used perform model fitting. done defining summary statistic running summary statistic data. use data example create summary statistic cumulative number cases 10 days. draw priors defined distribution parameter fit. example parameter beta fit cumulative number cases.  can similarly fit daily cases. Note need exclude first days simulation variance case incidence low. Fitting incidence appears improve model fit small sample.  fit also provides final state simulation posterior can compare fitted data","code":"# generate summary statistics from run # These are the number of cases on a given day daily_cases <- sum(get_daily_cases(r)$daily_incidence)  # simulate from prior priors <- tibble(\"beta\" = pmax(0,rnorm(200,mean=0.1,sd=0.1)))  # statistical summary of simulation stat_func <- function(m){   #' get total cases    m |>     get_daily_cases() |>     dplyr::summarise(total_cases=sum(daily_incidence)) }  res <- abc_stochastic_model(sm,priors,daily_cases,stat_func)  plot(res,param = \"beta\") # simulate from prior priors <- tibble(\"beta\" = pmax(0,rnorm(200,mean=0.1,sd=0.1)))  # statistical summary of simulation stat_func <- function(m){   #' get total cases    m |>      get_daily_cases() |>      filter(day > 3) |>      pivot_wider(names_from = \"day\",values_from=\"daily_incidence\",                  names_prefix = \"day_\") }  daily_cases <- stat_func(r)  res <- abc_stochastic_model(sm,priors,daily_cases,stat_func)  plot(res, param = \"beta\") data.frame(r) |>   filter(time == max(time)) |>   dplyr::select(-time) |>   mutate(type = \"true value\") |>   bind_rows(     mutate(res$state,type=\"posterior\")   ) |>   pivot_longer(-type,names_to = \"state\", values_to = \"value\") |>   ggplot(aes(x=state,y=value,color=type)) +   geom_jitter(alpha=0.5)"},{"path":"https://bccdc-phsa.github.io/brech/articles/brech.html","id":"scenario-projection","dir":"Articles","previous_headings":"","what":"Scenario projection","title":"brech","text":"can perform projections using abc_stochastic_model object. projection sample final state model posterior well associated parameters inherit parameters underlying stochastic_model class. project forward time using projection_stochastic_model function also comes default plotting behaviour.   projection_stochastic_model function can also incorporate scenarios directly without need model fitting. useful need project different scenarios current data inform model fit. scenario draw defined distribution β\\beta parameters  flow chart dependency defined S3 classes package provided . base class stochastic_model defines model events, rates, parameters initial states. summary object can provided simulation can drawn model using function run_sim(). Model fitting can performed using abc_stochastic_model alternatively scenario can generated using scenario_stochastic_model class. Finally projection can generated either scenario model fit using projection_stochastic_model.","code":"projections <- projection_stochastic_model(res) plot(projections, state = \"I\") plot(projections, state = \"C\") parameters <- tibble(\"beta\" = runif(200,min=0.08,max=0.12)) scenarios <- scenario_stochastic_model(sm,parameters) projections <- projection_stochastic_model(scenarios) plot(projections, state = \"I\") flowchart TD   M(\"load_parameters()\") --> A   R(\"reactions\") --> A   A[stochastic_model] --> B[abc_stochastic_model]   A --> C[scenario_stochastic_model]   B --> D[projection_stochastic_model]   C --> D"},{"path":"https://bccdc-phsa.github.io/brech/articles/brech.html","id":"age-structured-model","dir":"Articles","previous_headings":"","what":"Age-structured model","title":"brech","text":"age structured model need set-reactions age-group. can done explicitly , however quickly become cumbersome large number age-groups. Instead can construct looping age groups defining reactions e.g. “infection” “recovery”. requires rates functions built inside function factory ensure correct age-parameters provided function. information see chapter. First construct simple contact age contact matrix two age groups, Next use age_groups contact_matrix populate reactions list. illustrate code provides simple age-structured SIR model. encapsulate inside function ensure variables age_groups can referenced later. apply reactions construct stochastic_model object. use function create_age_initial_conditions convert initial conditions vector format format required object. can run simulation plot  can also vaccinate initial population age group. example imagine <18 age group 10% vaccinated 18+ age group 90% vaccinated. Notice initial values now updated. can similarly generate projections using scenario_stochastic_model object,  series helper functions can also used construct quantiles plot summaries age-structured model long states named format {model_state}_{age_group}.  final state can also extracted first making projections longer examining recovered individuals max time,","code":"age_groups <- c(\"<18\", \"18+\") contact_matrix <- matrix(c(20,5,5,10), nrow = 2) rownames(contact_matrix) <- age_groups colnames(contact_matrix) <- age_groups print(contact_matrix) #>     <18 18+ #> <18  20   5 #> 18+   5  10 create_custom_reactions <- function(contact_matrix){   age_groups <- colnames(contact_matrix)   reactions <- list()   for (i in seq_along(age_groups)){         age_group <- age_groups[i]         ###########################         #  infection transitions  #         ###########################         transition <- function() {           trans <- c()           trans[paste0(\"S_\",age_group)] <- -1           trans[paste0(\"I_\",age_group)] <- +1           trans         }         rate <-            function(i,age_group){             force(i)             force(age_group)             function(x, p, t) {               I <- x[paste0(\"I_\", age_groups)]               S <- x[paste0(\"S_\", age_group)]                lambda <- p$beta * S * sum(contact_matrix[,i] * (I / p$N))               lambda               }           }         reactions[[paste0(\"infection_\",age_group)]] <- list(           \"transition\"=transition(),           \"rate\" = rate(i,age_group)         )         ##############################         #    recovery transitions    #         ##############################          transition <- function() {           trans <- c()           trans[paste0(\"I_\",age_group)] <- -1           trans[paste0(\"R_\",age_group)] <- + 1           trans         }         rate <-          function(age_group){           force(age_group)           function(x, p, t) {             I <- x[paste0(\"I_\", age_group)]             p$gamma * I           }         }         reactions[[paste0(\"recovery_\",age_group)]] <- list(           \"transition\"=transition(),           \"rate\" = rate(age_group)         )          }   return(reactions) }  reactions <- create_custom_reactions(contact_matrix) age_scenario <- list(   params = list(beta = 0.5, gamma = 0.2, N = 1000),   initial_states = list(     S = c(200, 800),     V = c(0, 0),     I = c(1, 0),     R = c(0, 0)                         ),   sim_args = list(T = 10) )  age_scenario <- age_scenario |>   create_age_initial_conditions(age_groups)   sm <- stochastic_model(reactions,age_scenario) print(sm) #> Stochastic Model  #> ==================  #>  #> Initial Values: #>   S_<18 : 200  S_18+ : 800  V_<18 : 0 #>   V_18+ : 0  I_<18 : 1  I_18+ : 0 #>   R_<18 : 0  R_18+ : 0 #> Parameters: #>   beta : 0.5  gamma : 0.2  N : 1000 #>  #> Simulation arguments: #>   T : 10 #> Reactions: #>  - infection_<18: #>    Transition: [S_<18 -1, I_<18 +1] #>  - recovery_<18: #>    Transition: [I_<18 -1, R_<18 +1] #>  - infection_18+: #>    Transition: [S_18+ -1, I_18+ +1] #>  - recovery_18+: #>    Transition: [I_18+ -1, R_18+ +1] #> r <- sm |>     run_sim() |>     as.data.frame() |>     tidyr::pivot_longer(       cols = tidyselect::starts_with(\"I_\"),       names_to = \"age_group\",       names_prefix = \"I_\",       values_to = \"I\"     ) r |> ggplot(aes(x=time,y=I, color= age_group)) + geom_line() sm |> vaccinate_initial_conditions(c(\"<18\"=0.1,\"18+\"=0.9)) #> Stochastic Model  #> ==================  #>  #> Initial Values: #>   S_<18 : 180  S_18+ : 80  V_<18 : 20 #>   V_18+ : 720  I_<18 : 1  I_18+ : 0 #>   R_<18 : 0  R_18+ : 0 #> Parameters: #>   beta : 0.5  gamma : 0.2  N : 1000 #>  #> Simulation arguments: #>   T : 10 #> Reactions: #>  - infection_<18: #>    Transition: [S_<18 -1, I_<18 +1] #>  - recovery_<18: #>    Transition: [I_<18 -1, R_<18 +1] #>  - infection_18+: #>    Transition: [S_18+ -1, I_18+ +1] #>  - recovery_18+: #>    Transition: [I_18+ -1, R_18+ +1] #> parameters <- tibble(\"beta\" = runif(200,min=0.08,max=0.12)) scenarios <- scenario_stochastic_model(sm,parameters) projections <- projection_stochastic_model(scenarios) plot(projections, state = \"I\") projections |>    projection_quantiles_by_age_group(\"I\") |>   plot_projections_by_age_group(\"I\") projections$projection |>   create_age_group_column(\"R\") |>   filter(time == max(time)) |>   ggplot(aes(fill=age_group,x=R)) +   geom_density(alpha=0.2) +   labs(x = \"Final size\",fill=\"\")"},{"path":"https://bccdc-phsa.github.io/brech/articles/brech.html","id":"fitting-initial-conditions","dir":"Articles","previous_headings":"","what":"Fitting initial conditions","title":"brech","text":"abc_stochastic_model can also take initial states fitting using optional states argument. needs complete model state row e.g., can also project set states associated parameters  can perform model fitting using states prior model sampled . example generate data initial distribution vaccinated among children adults use number recovered age group summary function.","code":"N <- c(200,800) vaccine_rate <- c(0.1, 0.5) infection_rate <- c(0.02,0.01) nsamples <- 100 V <- matrix(rbinom(2*nsamples, size = rep(N, times = nsamples),                prob = rep(vaccine_rate, times = nsamples)),        nrow = nsamples, byrow = TRUE) S <- matrix(rep(N,times=nsamples), nrow=nsamples,byrow = TRUE) - V # simulation initial infections  I <- matrix(rbinom(2*nsamples, size = rep(N, times = nsamples),                prob = rep(infection_rate, times = nsamples)),        nrow = nsamples, byrow = TRUE) zero_state <- matrix(rep(0,times=2*nsamples), nrow=nsamples) states <- as.data.frame(cbind(S, V, I, zero_state)) colnames(states) <- c(\"S_<18\", \"S_18+\", \"V_<18\", \"V_18+\",                        \"I_<18\", \"I_18+\", \"R_<18\", \"R_18+\") head(states) #>   S_<18 S_18+ V_<18 V_18+ I_<18 I_18+ R_<18 R_18+ #> 1   188   412    12   388    12    10     0     0 #> 2   178   401    22   399     4     8     0     0 #> 3   183   384    17   416     3     8     0     0 #> 4   183   384    17   416     4     5     0     0 #> 5   184   376    16   424     5     2     0     0 #> 6   175   414    25   386     5     3     0     0 # fix beta parameter sm <- sm |> update_parameters(beta = 0.1)  # define scenario based on list of states example_scenario <- scenario_stochastic_model(sm, states = states) state_projections <- projection_stochastic_model(example_scenario) plot(state_projections, state = \"I\") age_scenario <- list(   params = list(beta = 0.1, gamma = 0.2, N = 1000),   initial_states = list(     S = c(190, 400),     V = c(10, 400),     I = c(1, 0),     R = c(0, 0)                         ),   sim_args = list(T = 10) )  age_scenario <- age_scenario |>   create_age_initial_conditions(age_groups)   sm <- stochastic_model(reactions,age_scenario)  r <- run_sim(sm) |> as.data.frame()  stat_func <- function(m){   #' get total cases by age group   m[nrow(m),startsWith(colnames(m),\"R\")] }  cumulative_cases <- stat_func(r) # simulate from prior priors <- tibble(\"beta\" = pmax(0,rnorm(100,mean=0.1,sd=0.1)))   res <- abc_stochastic_model(sm,priors,cumulative_cases,stat_func,                             states = states)  plot(res, param = \"beta\")"},{"path":"https://bccdc-phsa.github.io/brech/articles/brech.html","id":"using-multisession-and-progressr","dir":"Articles","previous_headings":"","what":"Using multisession and progressr","title":"brech","text":"abc_stochastic_model projection_stochastic_model can parallelized using future package together progressr generate progress bar. complex realistic models essential speed computation monitor progress. example use two workers provided ,","code":"# set up multisession environment plan(multisession, workers = 2)  # run projections in parallel progressr::with_progress({   state_projections <- projection_stochastic_model(example_scenario) })"},{"path":"https://bccdc-phsa.github.io/brech/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mike Irvine. Author, maintainer, copyright holder.","code":""},{"path":"https://bccdc-phsa.github.io/brech/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Irvine MA (2026). brech: Stochastic Modelling Infectious Disease Outbreaks. https://bccdc-phsa.github.io/brech/.","code":"@Manual{,   title = {brech: Stochastic Modelling of Infectious Disease Outbreaks},   author = {Michael A Irvine},   year = {2026},   url = {https://bccdc-phsa.github.io/brech/}, }"},{"path":"https://bccdc-phsa.github.io/brech/index.html","id":"brech-","dir":"","previous_headings":"","what":"Stochastic Modelling of Infectious Disease Outbreaks","title":"Stochastic Modelling of Infectious Disease Outbreaks","text":"Bayesian Reconstruction Epidemic Cases & Hospitalizations (BRECH). Simulation Bayesian fitting stochastic epidemic models. package name comes Welsh word “rash”","code":""},{"path":"https://bccdc-phsa.github.io/brech/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Stochastic Modelling of Infectious Disease Outbreaks","text":"package designed main purpose rapid construction prototyping stochastic infectious disease models small (~100 individuals) medium (~1000 individuals) size settings. ease construction come cost computational efficiency recommended larger settings complicated dynamics multiple rates.","code":""},{"path":"https://bccdc-phsa.github.io/brech/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Stochastic Modelling of Infectious Disease Outbreaks","text":"latest version brech can installed CRAN : can install development version brech GitHub :","code":"install.packages(\"brech\") # install.packages(\"pak\") pak::pak(\"BCCDC-PHSA/brech\")"},{"path":"https://bccdc-phsa.github.io/brech/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Stochastic Modelling of Infectious Disease Outbreaks","text":"package’s base class stochastic_model defines stochastic processes’ events, rates, parameters, initial states. example generates simple process infections () generated constant rate (beta) can generate realization process using function run_sim plot result  package provides tools scenario modelling fitting. See Introduction vignette details running following code","code":"library(brech)  reactions <- list(   infection = list(     transition = c(\"I\" = +1),     rate = function(x,p,t){p$beta}) ) example_scenario <- list(   params = list(beta = 0.1),   initial_states = list(I = 0),   sim_args = list(T = 100) ) sm <- stochastic_model(reactions,example_scenario)  print(sm) #> Stochastic Model  #> ==================  #>  #> Initial Values: #>   I : 0 #> Parameters: #>   beta : 0.1 #> Simulation arguments: #>   T : 100 #> Reactions: #>  - infection: #>    Transition: [I +1] library(ggplot2)  sim <- run_sim(sm) sim |>   ggplot(aes(x=time,y=I)) +   geom_line() vignette(\"brech\", package = \"brech\")"},{"path":"https://bccdc-phsa.github.io/brech/index.html","id":"package-structure","dir":"","previous_headings":"","what":"Package structure","title":"Stochastic Modelling of Infectious Disease Outbreaks","text":"flow chart dependency defined S3 classes package provided . base class stochastic_model defines model events, rates, parameters initial states. summary object can provided simulation can drawn model using function run_sim(). Model fitting can performed using abc_stochastic_model alternatively scenario can generated using scenario_stochastic_model class. Finally projection can generated either scenario model fit using projection_stochastic_model.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/abc_stochastic_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Approximate Bayesian Computation for Stochastic Model — abc_stochastic_model","title":"Approximate Bayesian Computation for Stochastic Model — abc_stochastic_model","text":"Runs Approximate Bayesian Computation (ABC) procedure using stochastic model set prior parameter draws.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/abc_stochastic_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Approximate Bayesian Computation for Stochastic Model — abc_stochastic_model","text":"","code":"abc_stochastic_model(   sm,   priors,   target,   stat_func,   states = NULL,   tol = 0.1,   method = \"rejection\",   seed = 123 )"},{"path":"https://bccdc-phsa.github.io/brech/reference/abc_stochastic_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Approximate Bayesian Computation for Stochastic Model — abc_stochastic_model","text":"sm object class stochastic_model. priors data frame tibble prior parameter values. row correspond one simulation, columns match parameter names expected update_parameters(). target named vector data frame observed summary statistics match simulated summary statistics. stat_func function computes summary statistics simulation result. accept model object return named numeric vector tibble row. states Optional. data frame tibble initial states. row corresponds complete model state e.g. SIR model row three columns tol numeric tolerance (0 1) ABC rejection algorithm. Defaults 0.1. method character string indicating ABC method use. Defaults \"rejection\". Passed directly abc::abc(). seed integer specifying random seed reproducibility. Defaults 123.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/abc_stochastic_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Approximate Bayesian Computation for Stochastic Model — abc_stochastic_model","text":"object class \"abc_stochastic_model\" containing: model original stochastic model. fit object returned abc::abc() representing ABC posterior. priors input prior values used simulations. posteriors output posterior values used simulations. prior_predictive summary statistics defined stat_func drawn prior distribution. state Final state model.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/abc_stochastic_model.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Approximate Bayesian Computation for Stochastic Model — abc_stochastic_model","text":"function performs ABC : Sampling parameter combinations priors Updating stochastic_model sampled parameter set Running model computing summary statistics via stat_func Comparing simulated statistics target using abc::abc() function Parallelization handled using furrr::future_map(), allowing reproducible simulation across parameter sets using fixed seed.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/abc_stochastic_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Approximate Bayesian Computation for Stochastic Model — abc_stochastic_model","text":"","code":"if (FALSE) { # \\dontrun{ priors <- expand.grid(beta = seq(0.1, 0.5, length.out = 10)) target <- c(mean_infected = 50) abc_result <- abc_stochastic_model(   stochastic_model = my_model,   priors = priors,   target = target,   stat_func = function(sim) data.frame(mean_infected = mean(sim$I)),   tol = 0.2 ) } # }"},{"path":"https://bccdc-phsa.github.io/brech/reference/add_labeled_bars_age_group.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Labeled Bars to a ggplot Object by Age Group — add_labeled_bars_age_group","title":"Add Labeled Bars to a ggplot Object by Age Group — add_labeled_bars_age_group","text":"function enhances ggplot object adding bars labels indicating positive values, formatted steel blue fill color. also adjusts y-axis scaling applies classic theme.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/add_labeled_bars_age_group.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Labeled Bars to a ggplot Object by Age Group — add_labeled_bars_age_group","text":"","code":"add_labeled_bars_age_group(g, label = \"positive\")"},{"path":"https://bccdc-phsa.github.io/brech/reference/add_labeled_bars_age_group.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Labeled Bars to a ggplot Object by Age Group — add_labeled_bars_age_group","text":"g ggplot object bars labels added. label column name y variable","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/add_labeled_bars_age_group.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Labeled Bars to a ggplot Object by Age Group — add_labeled_bars_age_group","text":"modified ggplot object labeled bars grouped age.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/add_labeled_bars_age_group.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Labeled Bars to a ggplot Object by Age Group — add_labeled_bars_age_group","text":"","code":"library(ggplot2) data <- data.frame(   age_group = c(\"0-18\", \"19-35\", \"36-50\", \"51+\"),   positive = c(10, 25, 30, 15) ) g <- ggplot(data, aes(x = age_group, y = positive)) g <- add_labeled_bars_age_group(g) print(g)"},{"path":"https://bccdc-phsa.github.io/brech/reference/build_age_reactions.html","id":null,"dir":"Reference","previous_headings":"","what":"get reaction list from number of age groups m and contact_matrix — build_age_reactions","title":"get reaction list from number of age groups m and contact_matrix — build_age_reactions","text":"get reaction list number age groups m contact_matrix","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/build_age_reactions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get reaction list from number of age groups m and contact_matrix — build_age_reactions","text":"","code":"build_age_reactions(contact_matrix)"},{"path":"https://bccdc-phsa.github.io/brech/reference/build_age_reactions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get reaction list from number of age groups m and contact_matrix — build_age_reactions","text":"contact_matrix matrix m x m","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/calculate_age_structured_beta.html","id":null,"dir":"Reference","previous_headings":"","what":"Using the next generation matrix approach, calculates beta based on a fixed R0 — calculate_age_structured_beta","title":"Using the next generation matrix approach, calculates beta based on a fixed R0 — calculate_age_structured_beta","text":"Using next generation matrix approach, calculates beta based fixed R0","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/calculate_age_structured_beta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Using the next generation matrix approach, calculates beta based on a fixed R0 — calculate_age_structured_beta","text":"","code":"calculate_age_structured_beta(sm, contact_matrix, population_sizes, R0)"},{"path":"https://bccdc-phsa.github.io/brech/reference/calculate_age_structured_beta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Using the next generation matrix approach, calculates beta based on a fixed R0 — calculate_age_structured_beta","text":"sm Object class stochastic_model contact_matrix m x m contact matrix population_sizes m vector population size R0 numeric reproduction number","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/calculate_age_structured_beta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Using the next generation matrix approach, calculates beta based on a fixed R0 — calculate_age_structured_beta","text":"numeric","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/create_age_initial_conditions.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a vector of each state into a labeled state using age_groups labels — create_age_initial_conditions","title":"Convert a vector of each state into a labeled state using age_groups labels — create_age_initial_conditions","text":"Convert vector state labeled state using age_groups labels","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/create_age_initial_conditions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a vector of each state into a labeled state using age_groups labels — create_age_initial_conditions","text":"","code":"create_age_initial_conditions(sim_scenario, age_groups)"},{"path":"https://bccdc-phsa.github.io/brech/reference/create_age_initial_conditions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a vector of each state into a labeled state using age_groups labels — create_age_initial_conditions","text":"sim_scenario output load_model_params age_groups vector age group labels","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/create_age_initial_conditions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a vector of each state into a labeled state using age_groups labels — create_age_initial_conditions","text":"","code":"sim_scenario <- list(   \"initial_states\" = list(     \"S\" = c(1,2,3),     \"I\" = c(0,0,1)   ) ) age_groups <- c(\"0-5\",\"5-19\",\"19+\") create_age_initial_conditions(sim_scenario,age_groups) #> $initial_states #> $initial_states$`S_0-5` #> [1] 1 #>  #> $initial_states$`S_5-19` #> [1] 2 #>  #> $initial_states$`S_19+` #> [1] 3 #>  #> $initial_states$`I_0-5` #> [1] 0 #>  #> $initial_states$`I_5-19` #> [1] 0 #>  #> $initial_states$`I_19+` #> [1] 1 #>  #>"},{"path":"https://bccdc-phsa.github.io/brech/reference/get_daily_cases.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Daily Incident Cases from Cumulative Simulation Output — get_daily_cases","title":"Compute Daily Incident Cases from Cumulative Simulation Output — get_daily_cases","text":"function takes data frame matrix containing irregularly spaced simulation time points cumulative case counts (C), returns number new cases per day using linear interpolation.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/get_daily_cases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Daily Incident Cases from Cumulative Simulation Output — get_daily_cases","text":"","code":"get_daily_cases(r)"},{"path":"https://bccdc-phsa.github.io/brech/reference/get_daily_cases.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Daily Incident Cases from Cumulative Simulation Output — get_daily_cases","text":"r data frame matrix columns \"time\" \"C\", representing time (continuous units) cumulative number cases, respectively.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/get_daily_cases.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Daily Incident Cases from Cumulative Simulation Output — get_daily_cases","text":"tibble two columns: day Integer day values floor minimum time ceiling maximum time daily_incidence Number new cases per day, computed difference interpolated cumulative cases","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/get_daily_cases.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute Daily Incident Cases from Cumulative Simulation Output — get_daily_cases","text":"Since simulation outputs may record cumulative cases non-integer time points, function performs linear interpolation estimate cumulative cases whole-number day. computes number incident cases first difference interpolated values. first day assigned 0 new cases default.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/get_daily_cases.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Daily Incident Cases from Cumulative Simulation Output — get_daily_cases","text":"","code":"sim_data <- as.matrix(dplyr::tibble(   time = c(0, 0.1, 0.9, 1.4, 2.3, 3.8),   C = c(0, 1, 5, 7, 10, 15) )) get_daily_cases(sim_data) #> # A tibble: 5 × 2 #>     day daily_incidence #>   <int>           <dbl> #> 1     0            0    #> 2     1            5.4  #> 3     2            3.6  #> 4     3            3.33 #> 5     4           NA"},{"path":"https://bccdc-phsa.github.io/brech/reference/get_reactions_and_rates.html","id":null,"dir":"Reference","previous_headings":"","what":"convert reactions list to transitions and rates — get_reactions_and_rates","title":"convert reactions list to transitions and rates — get_reactions_and_rates","text":"convert reactions list transitions rates","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/get_reactions_and_rates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert reactions list to transitions and rates — get_reactions_and_rates","text":"","code":"get_reactions_and_rates(reactions)"},{"path":"https://bccdc-phsa.github.io/brech/reference/get_reactions_and_rates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert reactions list to transitions and rates — get_reactions_and_rates","text":"reactions list","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/get_reactions_and_rates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convert reactions list to transitions and rates — get_reactions_and_rates","text":"list rates transitions","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/interpolate_run_by_day.html","id":null,"dir":"Reference","previous_headings":"","what":"Interpolate State Trajectories to Whole Days — interpolate_run_by_day","title":"Interpolate State Trajectories to Whole Days — interpolate_run_by_day","text":"Converts time-series data frame matrix continuous time points one state columns tibble daily interpolated values.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/interpolate_run_by_day.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interpolate State Trajectories to Whole Days — interpolate_run_by_day","text":"","code":"interpolate_run_by_day(x)"},{"path":"https://bccdc-phsa.github.io/brech/reference/interpolate_run_by_day.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interpolate State Trajectories to Whole Days — interpolate_run_by_day","text":"x matrix data frame numeric column named \"time\" one state columns arbitrary names. output run","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/interpolate_run_by_day.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interpolate State Trajectories to Whole Days — interpolate_run_by_day","text":"tibble one row per whole day interpolated values state.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/interpolate_run_by_day.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interpolate State Trajectories to Whole Days — interpolate_run_by_day","text":"","code":"mat <- cbind(   time = c(0.1, 0.5, 1.2, 2.4, 3.8),   S = c(1000, 900, 800, 600, 500),   I = c(1, 10, 50, 100, 90) ) interpolate_run_by_day(mat) #> # A tibble: 5 × 3 #>    time     S     I #>   <int> <dbl> <dbl> #> 1     0   NA   NA   #> 2     1  829.  38.6 #> 3     2  667.  83.3 #> 4     3  557.  95.7 #> 5     4   NA   NA"},{"path":"https://bccdc-phsa.github.io/brech/reference/load_model_params.html","id":null,"dir":"Reference","previous_headings":"","what":"load model parameters — load_model_params","title":"load model parameters — load_model_params","text":"load model parameters","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/load_model_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"load model parameters — load_model_params","text":"","code":"load_model_params(file = NULL)"},{"path":"https://bccdc-phsa.github.io/brech/reference/load_model_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"load model parameters — load_model_params","text":"file file path yaml","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot.abc_stochastic_model.html","id":null,"dir":"Reference","previous_headings":"","what":"type of plot either ","title":"type of plot either ","text":"type plot either \"prior_posterior\" \"simulations\"","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot.abc_stochastic_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"type of plot either ","text":"","code":"# S3 method for class 'abc_stochastic_model' plot(x, ...)"},{"path":"https://bccdc-phsa.github.io/brech/reference/plot.abc_stochastic_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"type of plot either ","text":"x object class abc_stochastic_model. ... list additional plot arguments. param - type \"prior_posterior\" parameter plot state - type \"simulations\" state plot","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_contact_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a Contact Matrix — plot_contact_matrix","title":"Plot a Contact Matrix — plot_contact_matrix","text":"function visualizes contact matrix using heatmap.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_contact_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a Contact Matrix — plot_contact_matrix","text":"","code":"plot_contact_matrix(matrix_data, levels = NULL)"},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_contact_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a Contact Matrix — plot_contact_matrix","text":"matrix_data square matrix rows columns represent different groups, values indicate contact rates. levels list labels order matrix","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_contact_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a Contact Matrix — plot_contact_matrix","text":"ggplot2 object representing heatmap contact matrix.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_contact_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a Contact Matrix — plot_contact_matrix","text":"","code":"contact_matrix <- matrix(runif(25, 0, 1), nrow = 5, dimnames = list(LETTERS[1:5], LETTERS[1:5])) plot_contact_matrix(contact_matrix)"},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_prior_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Prior and Posterior Distributions with Optional True Value — plot_prior_posterior","title":"Plot Prior and Posterior Distributions with Optional True Value — plot_prior_posterior","text":"function generates density plot comparing prior posterior distributions parameter. optional vertical dashed line can added indicate true parameter value.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_prior_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Prior and Posterior Distributions with Optional True Value — plot_prior_posterior","text":"","code":"plot_prior_posterior(prior_values, posterior_values, true_value = NULL)"},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_prior_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Prior and Posterior Distributions with Optional True Value — plot_prior_posterior","text":"prior_values numeric vector samples prior distribution. posterior_values numeric vector samples posterior distribution. true_value Optional numeric value representing true parameter value shown vertical dashed line.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_prior_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Prior and Posterior Distributions with Optional True Value — plot_prior_posterior","text":"ggplot2 object representing density plot comparing prior posterior distributions.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_prior_posterior.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Prior and Posterior Distributions with Optional True Value — plot_prior_posterior","text":"function uses geom_density() visualize prior posterior samples, geom_vline() optionally display true parameter value. uses theme_minimal() places legend bottom clarity.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/plot_prior_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Prior and Posterior Distributions with Optional True Value — plot_prior_posterior","text":"","code":"prior <- rnorm(1000, mean = 0, sd = 2) posterior <- rnorm(1000, mean = 1, sd = 0.5) true_value <- 1.2 plot_prior_posterior(prior, posterior, true_value)"},{"path":"https://bccdc-phsa.github.io/brech/reference/print.stochastic_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for stochastic_model objects — print.stochastic_model","title":"Print method for stochastic_model objects — print.stochastic_model","text":"function provides formatted colorized summary stochastic model, including initial values, parameters, list reactions transitions rate function arguments.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/print.stochastic_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for stochastic_model objects — print.stochastic_model","text":"","code":"# S3 method for class 'stochastic_model' print(x, ...)"},{"path":"https://bccdc-phsa.github.io/brech/reference/print.stochastic_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for stochastic_model objects — print.stochastic_model","text":"x object class stochastic_model. ... Additional arguments (ignored).","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/print.stochastic_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for stochastic_model objects — print.stochastic_model","text":"Invisibly returns x object.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/projection_stochastic_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Project a Stochastic Model Forward in Time — projection_stochastic_model","title":"Project a Stochastic Model Forward in Time — projection_stochastic_model","text":"Runs forward projections posterior draws fitted abc_stochastic_model fixed number time steps (default 30), using region-specific states parameter sets. simulation seeded reproducibility run parallel. state exist e.g. \"\" states \"I_{age}\" sum states first plotting take difference column(s) match state state. useful cumulative columns e.g. INC C converted incidence case incidence respectively","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/projection_stochastic_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Project a Stochastic Model Forward in Time — projection_stochastic_model","text":"","code":"projection_stochastic_model(asm, project_time = 30, seed = 123)  add_projection_date(psm, start_date)  # S3 method for class 'projection_stochastic_model' plot(x, ...)  plot_projections(projection, state)  plot_projection_samples(projection, state)  plot_projections_by_age_group(projection, state)  create_projection_quantiles(   psm,   probs = c(0.025, 0.25, 0.5, 0.75, 0.975),   by_cols = c(\"time\", \"date\") )  projection_quantiles_by_age_group(   psm,   state,   probs = c(0.025, 0.25, 0.5, 0.75, 0.975) )  projection_by_age_group(psm, state)  create_age_group_column(psm, state, index_cols = c(\"date\", \"time\"))  collapse_states(psm)  difference_of_states(psm, state)"},{"path":"https://bccdc-phsa.github.io/brech/reference/projection_stochastic_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Project a Stochastic Model Forward in Time — projection_stochastic_model","text":"asm object class abc_stochastic_model scenario_stochastic_model. project_time Number time steps project forward. Defaults 30. seed integer used seed parallel simulations reproducibility. Defaults 123. psm Object class projection_stochastic_model start_date date yyyy-mm-dd format x object class projection_stochastic_model ... arguments including state state plot, \"\" default type either show individual trajectories \"samples\" summarize \"quantiles\", \"quantiles\" default projection projection grouped using projection_quantiles_by_age_group state character string e.g. \"C\" probs vector quantiles plot by_cols vector columns group index_cols columns preserve defaults c(\"time\",\"date\")","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/projection_stochastic_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Project a Stochastic Model Forward in Time — projection_stochastic_model","text":"object class projection_stochastic_model, list following elements: model stochastic model used simulation (class stochastic_model). projection data frame projected simulations concatenated across posterior draws days, including parameter updates appended columns. object class projection_stochastic_model tibble tibble tibble","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/projection_stochastic_model.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Project a Stochastic Model Forward in Time — projection_stochastic_model","text":"function takes fitted abc_stochastic_model, extracts posterior state parameter sets, runs simulations parallel using furrr. model updated posterior draw, run forward fixed time frame, interpolated daily resolution, combined single projection data frame.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/projection_stochastic_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Project a Stochastic Model Forward in Time — projection_stochastic_model","text":"","code":"if (FALSE) { # \\dontrun{   projection <- psm |> projection_quantiles_by_age_group(\"C\")   plot_projections_by_age_group(projection,\"C\") } # }"},{"path":"https://bccdc-phsa.github.io/brech/reference/reset_state.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert cumulative state variables back to zero at a reference time — reset_state","title":"Convert cumulative state variables back to zero at a reference time — reset_state","text":"cumulative state variables cases (e.g., C_[0,1)), function resets values 0 specified reference time (default 0). useful wanting compute cumulative changes particular time point simulation projection.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/reset_state.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert cumulative state variables back to zero at a reference time — reset_state","text":"","code":"reset_state(psm, state, reset_time = 0)"},{"path":"https://bccdc-phsa.github.io/brech/reference/reset_state.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert cumulative state variables back to zero at a reference time — reset_state","text":"psm object class projection_stochastic_model, compatible data structure accepted get_projection_dataframe(). state character string specifying prefix cumulative state variable reset (e.g., \"C\" match columns like \"C_[0,1)\", \"C_[1,5)\", etc.). reset_time numeric value indicating time reset cumulative values back zero. Defaults 0.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/reset_state.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert cumulative state variables back to zero at a reference time — reset_state","text":"tibble structure original projection data frame","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/reset_state.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert cumulative state variables back to zero at a reference time — reset_state","text":"","code":"if (FALSE) { # \\dontrun{ # Reset cumulative cases to 0 at time 10 reset_state(psm = fitted_model, state = \"C\", reset_time = 10)  # Reset cumulative hospitalizations reset_state(psm = fitted_model, state = \"H\", reset_time = 5) } # }"},{"path":"https://bccdc-phsa.github.io/brech/reference/rtruncnorm.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample from a Truncated Normal Distribution — rtruncnorm","title":"Sample from a Truncated Normal Distribution — rtruncnorm","text":"Generates random samples normal distribution truncated specified lower upper bounds.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/rtruncnorm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample from a Truncated Normal Distribution — rtruncnorm","text":"","code":"rtruncnorm(n, mean, sd, low, high)"},{"path":"https://bccdc-phsa.github.io/brech/reference/rtruncnorm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample from a Truncated Normal Distribution — rtruncnorm","text":"n Integer. Number samples draw. mean Numeric. Mean normal distribution. sd Numeric. Standard deviation normal distribution. low Numeric. Lower truncation bound. high Numeric. Upper truncation bound.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/rtruncnorm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample from a Truncated Normal Distribution — rtruncnorm","text":"numeric vector length n containing random draws truncated normal distribution.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/rtruncnorm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample from a Truncated Normal Distribution — rtruncnorm","text":"function uses inverse transform sampling first computing cumulative probabilities corresponding lower upper bounds, sampling uniformly range transforming back via normal quantile function.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/rtruncnorm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample from a Truncated Normal Distribution — rtruncnorm","text":"","code":"set.seed(123) rtruncnorm(n = 5, mean = 0, sd = 1, low = -1, high = 1) #> [1] -0.3719060  0.5152845 -0.1563984  0.7110777  0.8441328"},{"path":"https://bccdc-phsa.github.io/brech/reference/scenario_stochastic_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a set of scenarios that can be incorporated into projection_stochastic_model() — scenario_stochastic_model","title":"Create a set of scenarios that can be incorporated into projection_stochastic_model() — scenario_stochastic_model","text":"Create set scenarios can incorporated projection_stochastic_model()","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/scenario_stochastic_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a set of scenarios that can be incorporated into projection_stochastic_model() — scenario_stochastic_model","text":"","code":"scenario_stochastic_model(sm, parameters = NULL, states = NULL)"},{"path":"https://bccdc-phsa.github.io/brech/reference/scenario_stochastic_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a set of scenarios that can be incorporated into projection_stochastic_model() — scenario_stochastic_model","text":"sm Object class stochastic_model. parameters data frame tibble prior parameter values. row correspond one simulation, columns match parameter names expected update_parameters(). NULL parameters updated inherited sm states data frame row represents initial state. NULL generated initial states sm","code":""},{"path":[]},{"path":"https://bccdc-phsa.github.io/brech/reference/stochastic_model.html","id":null,"dir":"Reference","previous_headings":"","what":"update parameters for a stochastic_model — update_parameters","title":"update parameters for a stochastic_model — update_parameters","text":"update parameters stochastic_model update initial state stochastic_model Create stochastic model run stochastic model using adaptive tau set algorithm","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/stochastic_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"update parameters for a stochastic_model — update_parameters","text":"","code":"update_parameters(x, ..., params = list())  update_state(x, state)  stochastic_model(reactions, sim_scenario)  run_sim(x, tf = NULL)"},{"path":"https://bccdc-phsa.github.io/brech/reference/stochastic_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"update parameters for a stochastic_model — update_parameters","text":"x object class stochastic_model. ... parameters update params parameters update passed list state data.frame reactions list state transitions. reaction list requires transition vector rate vector sim_scenario list defines scenario including params, initial_states sim_args must least include simulation time T tf maximum time","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/stochastic_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"update parameters for a stochastic_model — update_parameters","text":"object class stochastic_model.","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/stochastic_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"update parameters for a stochastic_model — update_parameters","text":"","code":"if (FALSE) { # \\dontrun{ sm <- update_parameters(sm,beta=0.2) } # } reactions <- list(   infection = list(     transition = c(\"I\" = +1),     rate = function(x,p,t){p$beta}) ) example_scenario <- list(   params = list(beta = 0.1),   initial_states = list(I = 0),   sim_args = list(T = 10) ) stochastic_model(reactions,example_scenario) #> Stochastic Model  #> ==================  #>  #> Initial Values: #>   I : 0 #> Parameters: #>   beta : 0.1 #> Simulation arguments: #>   T : 10 #> Reactions: #>  - infection: #>    Transition: [I +1] #>"},{"path":"https://bccdc-phsa.github.io/brech/reference/vaccinate_initial_conditions.html","id":null,"dir":"Reference","previous_headings":"","what":"change vaccination coverage in initial conditions — vaccinate_initial_conditions","title":"change vaccination coverage in initial conditions — vaccinate_initial_conditions","text":"change vaccination coverage initial conditions","code":""},{"path":"https://bccdc-phsa.github.io/brech/reference/vaccinate_initial_conditions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"change vaccination coverage in initial conditions — vaccinate_initial_conditions","text":"","code":"vaccinate_initial_conditions(sim_scenario, vaccine_rate)"},{"path":"https://bccdc-phsa.github.io/brech/reference/vaccinate_initial_conditions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"change vaccination coverage in initial conditions — vaccinate_initial_conditions","text":"sim_scenario output load_model_params vaccine_rate numeric proportion vaccinated. Can numeric vector using age groups. named vaccinates according age group format \"S_{age_group}\"","code":""},{"path":"https://bccdc-phsa.github.io/brech/news/index.html","id":"brech-development-version","dir":"Changelog","previous_headings":"","what":"brech (development version)","title":"brech (development version)","text":"Initial CRAN submission. Includes complete functionality defining models, scenarios, model fitting.","code":""}]
